## 自动控制基本概念

### 自动控制定义

**自动控制**是指在**无人直接参与**的情况下，通过**控制器**使**被控对象或过程**自动地按照预定要求进行。

> 被控制的机器设备或物体，叫做**被控对象**
> 所用的控制装置常称为**控制器**
> 控制器和被控对象的组合称为**自动控制系统**

### 自动控制系统的分类

按结构可分为开环控制系统和闭环控制系统。

按输入信号可分为恒值控制系统、程序控制系统和随动系统

按描述元件的动态方程可分为线性系统和非线性系统

### 开环控制系统

若系统的输出量与输入量间不存在反馈的通道，这种控制方式称为开环控制系统。

### 闭环系统

凡是系统输出信号对控制作用有直接影响的系统，都称为闭环系统(又称反馈系统)。

### 闭环系统的组成

- 测量反馈元件——测量被控量并转换成与输入量同一物理量后，再反馈回输入端
- 比较元件——比较输入信号和反馈信号，并输出偏差信号
- 放大元件——将微弱信号线性放大
- 校正元件——变换信号以改善系统性能
- 执行元件——执行控制，以控制被控量
- 控制对象——需要进行控制的工作机械

### 开环系统与闭环系统的比较

开环系统的控制精度较低，但结构简单、造价较低，适用于没干扰的场合。

开环系统有反馈环节，可以用不太精密的元件构成较精密的系统，但设备增多，线路复杂。对一些惯性大的系统，还可能出现发散或等幅振荡等不稳定的情况。

### 自动控制系统的特征

1. 结构上，系统必须具有反馈装置，并按负反馈原则组成系统。
2. 由偏差产生控制作用
3. 控制的目的是减小或消除偏差，使被控量尽量接近期望值。

## 自动控制系统的基本要求

- 稳定性：系统恢复平衡状态的能力
- 准确性：输出的实际值与期望值之差
- 快速性：由原先平衡状态过渡到另一平衡状态的速度

> 稳、准、快

## 数学模型

数学模型的形式有微分方程、传递函数、频率特性、状态变量、结构图和信号流图等。

### 非线性方程的线性化

在平衡点附近进行**泰勒展开！**

### 传递函数

线性系统在初始条件为 0 时，输出量的拉氏变换与输入量的拉氏变换之比，称为该系统的传递函数，记为 $G(s)$

### 经典环节

1. 比例环节 $G(s) = K$
2. 积分环节 $G(s) = \frac{1}{Ts}$
3. 惯性环节 $G(s) = \frac{1}{Ts + 1}$
4. 振荡环节 $G(s) = \frac{1}{T^2s^2 + 2\zeta Ts + 1}$
5. 微分环节
    - 纯微分 $G(s) = s$
    - 一阶微分 $G(s) = \tau s + 1$
    - 二阶微分 $G(s) = \tau^2 s^2 + 2 \zeta \tau s + 1$
6. 延迟环节 $G(s) = e^{- \tau s}$

### 梅逊公式

$$
\begin{aligned}
&P = \frac{1}{\Delta} \sum ^n_{k=1} P_k \Delta _k \\
&\Delta = 1 - \sum L_a + \sum L_bL_c - \sum L_d L_e L_f + \dots 
\end{aligned}
$$
> $\sum L_a$ 等是不同回路的回路传输之和
> $P_k$ 是第 k 个前向通路
> $\Delta _k$ 是第 k 个前向通路特征式的余子式（除去与 $P_k$ 接触的 $\Delta$ 剩余部分）

## 稳定性

### 稳定性的定义

处于某一平衡态的一系统，在外作用下离开了稳态，当外作用消失后，若经过足够长时间，能恢复稳定状态，则称该系统具有 **稳定性** 。

### *线性稳定系统* 稳定的充要条件

系统特征方程的根均为负实数或具有负实部的共轭复数，即系统的闭环极点都在复数平面虚轴的左边。
> 系统的特征方程即令闭环传递函数的分母为零的方程，若给出开环传递函数，要先求闭环传递函数。

对一阶和二阶系统，特征方程各项系数为正是系统稳定的充分必要条件。  
对其它高阶系统只能求出根才能判断，所以往往采用 **劳斯判据** 判断。

#### 劳斯判据
1. 写出$s$的方程
2. 判断系数存在且均大于零（必要条件）  。
	方程缺项或具有负系数，则系统不稳定。
3. 编写劳斯计算表
$$
\left.
\begin{matrix} 
 s^n\\s^{n-1}\\s^{n-2}\\s^{n-3}\\ \vdots 
\end{matrix}
\right | 
\begin{matrix}
a_n & a_{n-2} & a_{n-4}\\
a_{n-1}  & a_{n-3} & a_{n-5}\\
b_1  & b_2 & \dots \\
c_1  & c_2 & \dots \\
\vdots \\
\end{matrix} 
$$
4. 按公式计算各系数
$$
b_1=\frac{-\begin{vmatrix}
a_n  & a_{n-2}\\
a_{n-1}  & a_{n-3}
\end{vmatrix}}{a_{n-1}} ,
b_2=\frac{-\begin{vmatrix}
a_n  & a_{n-4}\\
a_{n-1}  & a_{n-5}
\end{vmatrix}}{a_{n-1}} ,\dots
$$
$$
c_1=\frac{-\begin{vmatrix}
a_{n-1}  & a_{n-3}\\
b_1  & b_2
\end{vmatrix}}{b_1} ,
c_1=\frac{-\begin{vmatrix}
a_{n-1}  & a_{n-5}\\
b_1  & b_3
\end{vmatrix}}{b_1} ,\dots
$$
> 计算过程中可同乘一整行
5. 若特征方程全部系数为正，且劳斯表第一列为正，则系统稳定。（系统稳定的充要条件）     
	第一列符号改变 n 次，表明系统有 n 个正实部根。
	
> 若第一列中出现了 0 ，可以用一个小正数代替并继续计算
	
#### 改进不稳定系统的方法
1. 用反馈环节包围积分
2. 引入比例-微分环节 $\tau_ds+1$	

#### 稳定裕度
用最靠近虚轴的根与虚轴的距离 $\sigma$ 表示系统的稳定裕度。  
令$s=z- \sigma$，再应用劳斯判据判断是否稳定。

### 时间响应

一个控制系统的事件响应通常包括**瞬态响应**及**稳态响应**。

瞬态响应定义：时间变为很大时，其时间响应应趋于 0 的部分。

稳态响应定义：当时间达到无穷时的一种固定的响应。

### 典型输入信号

为了分析系统的稳定性，通常引入一些典型输入信号：
- 单位阶跃 $\frac{1}{s}$
- 单位斜坡 $\frac{1}{s^2}$
- 单位抛物线

### 阶跃响应的性能指标

- 延迟时间 $t_d$ ：输出第一次达到稳态值的 50% 所需时间
- 上升时间 $t_r$ ：响应第一次到达稳态值的时间
- 峰值时间 $t_p$ ：超过稳态值到达第一个峰值 $c_{max}$ 的时间
- 最大超调量 $\sigma %$ ：最大值超出稳态值的百分比
- 调节时间 $t_s$ ：响应曲线到达并不再超出稳态值的误差带的最小时间，误差带取 $\pm 0.05c(\infty)$ 或 $\pm 0.02c(\infty)$
- 震荡次数 $N$
- 稳态误差 $e_{ss}$

### 一阶系统的动态性能指标

$$\Phi(s)=\frac {K}{Ts+1}$$

过渡时间 $t_s = 3T$

### 二阶系统

开环传递函数为 
$$G(s)=\frac{\omega _n^2}{s^2+2\zeta \omega_n s}$$

闭环传递函数为
$$\Phi(s)=\frac{\omega _n^2}{s^2+2\zeta \omega_n s + \omega _n^2}$$

#### 二阶系统的动态性能指标
以下是在欠阻尼状态下 $0<\zeta <1$ 的两个重要动态性能指标

最大超调量  
$$
\sigma \%  = \mathrm{exp} (- \pi  \zeta / \sqrt{1-\zeta ^2}) \times 100\%
$$

调节时间:   
$$t_s \approx \frac{3}{\zeta \omega_n} (\Delta=0.05)$$  
$$t_s \approx \frac{4}{\zeta \omega_n} (\Delta=0.02)$$

二阶系统的零点离极点越近，对阶跃响应的影响越大。

在二阶系统中引入比例微分环节可提高系统的动态品质。

### 高阶系统

$$\Phi(s)=\frac{K_g\prod_{j=1}^{m}(s+z_j)}{\prod_{k=1}^{r}(s^2+2\zeta_k\omega_ks+\omega_k^2) }$$

### 主导极点

左半复平面上离虚轴最近的共轭复极点或实极点。它们的附近没有零点，且系统的其它极点有的与邻近的零点相消，有的在上述极点左方很远，并离所有的零点也很远。这对极点就被称为闭环主导极点。

当引进的实数极点与主导极点的模之差大于 5 时，即可认为其为非主导极点。

开环放大系数不大时可略去较小的时间常数，但开环放大系数较大时略去时间常数则会引起较大误差。

#### 估算高阶系统动态性能的方法

1. 实数极点与主导极点的模之比大于 5 可忽略；
2. 极点附近有零点可互相约去；

### 稳态误差

误差有两种定义方式——从输入端定义和从输出端定义。

按开环传递函数中的积分环节个数可将系统分为 0 型系统，Ⅰ型系统和 Ⅱ型系统（又称有差系统、一阶无差度系统和二阶无差度系统）。

引入与给定作用有关或与扰动作用有关的附加控制作用可以减小给定误差或扰动误差。

#### 三种误差系数

- $$K_p=1+\lim_{s \to 0}G_K(s)$$
- $$K_V=\lim_{s \to 0}sG_K(s)$$
- $$K_a =\lim_{s \to 0}s^2G_K(s)$$

#### 给定输入信号作用下的系统稳态误差

- 单位阶跃输入
    $$e_{ss}=\frac{1}{K_p}$$
- 单位斜坡输入
	$$e_{ss}=\frac{1}{K_V}$$
- 单位抛物线输入
	$$e_{ss}=\frac{1}{K_a}$$

### 三种控制

> 一般不单独使用比例控制

- 比例控制 P
- 比例加微分控制 PD
- 比例加积分控制 PI （积分的作用是消除控制偏差的余差）
- PID

#### PID 分别的作用

P：减小稳态误差、提高控制精度
D：预见信号变化趋势，发出早期修正信号
I：提高无差度阶数，改善系统稳态性能

### 传递函数分析工具

- [[Matlab]]

## 频率分析

### 开环频率特性

低频段的幅相与系统的型别 $\nu$ 有关

$\nu$ | $A(0)$ | $\varphi (0)$
------|------|------------
0|K|0
1|$\infty$|$- \pi / 2$
2|$\infty$|$- 2 \pi / 2$
$\nu$|$\infty$|$- \nu \pi / 2$

## 控制系统的校正

### 基本概念

- 校正：用于改善系统性能的过程
- 校正装置：用于校正的环节

### 校正方式

按位置可分为：
- 串联校正
- 并联校正

### 常用校正装置

#### 超前校正装置

传递函数为：
$$G_c(s) = \alpha \frac{Ts+1}{\alpha Ts +1}$$

用放大倍数为 $\frac{1}{\alpha}$ 的放大器补偿衰减后的传递函数为：
$$G_c(s) = \alpha \frac{Ts+1}{\alpha Ts +1}$$

##### 特点
- 在 $1/T$ 到 $1/(\alpha T)$ 之间 $L(\omega)$ 的斜率为 $+20\mathrm{dB/dec}$
- 输出信号的相位总是超前

##### 参数

$$\omega_m = \frac{1}{T\sqrt{\alpha}} = \sqrt{\omega_1 \omega_2}$$

$$\varphi_m = \mathrm{arcsin} \frac{1/\alpha - 1}{1/\alpha + 1}$$

$$\frac{1}{\alpha} = \frac{1+\mathrm{sin}\varphi_m}{1-\mathrm{sin}\varphi_m}$$

> 可以看出 $\alpha$ 越小，微分作用越强，$\varphi_m$ 越大，干扰也增大。
> 实际选用的$\alpha$ 一般不小于 $0.05$

### 校正装置的设计

#### 串联超前校正网络

1. 根据稳态误差要求，确定系统开环传递系数（见[[自动控制原理#稳态误差]]）。然后绘制伯德图，求出未校正的相角裕度和幅值裕度。
2. 确定截止频率 $\omega'_c$ 和 $\alpha$
	- 若已给定 $\omega'_c$，则根据公式 $L_0(\omega'_c)+10\mathrm{lg}\frac{1}{\alpha}=0$ 求出 $\alpha$
	- 若未给定 $\omega'_c$，则先确定 $\varphi_m=\gamma' - \gamma + \Delta$。然后算出 $\alpha = \frac{1-\mathrm{\varphi_m}}{1+\mathrm{\varphi_m}}$，再从原系统的伯德图中求出对应的截止频率 $\omega'_c$
	  > $\Delta$ 一般取 5
3. $$T=\frac{1}{\omega_m\sqrt{\alpha}}$$
   $$G_c(s)=\frac{Ts+1}{\alpha Ts+1}$$
7. 验证要求
8. 确定元件参数

---------------------------

## 参考资料

[1] 高国燊, 余文烋, 彭康拥, 等. 自动控制原理[M]. 第四版. 广州:华南理工大学出版社, 2013.
